#!/usr/bin/env node

// JavaScript source code
//USAGE:
//            var TeamcityReporter = jasmineRequire.TeamcityReporter();
//            window.teamcityReporter = new TeamcityReporter();
//            jasmine.getEnv().addReporter(window.teamcityReporter);

//var print = console.log;
var TeamcityReporter = require('./teamcityreporter');

var path = require('path'),
    Command = require('../lib/command.js'),
    Jasmine = require('../lib/jasmine.js');

var jasmine = new Jasmine({
    projectBaseDir: path.resolve()
});
var examplesDir = path.join(__dirname, '..', 'node_modules', 'jasmine-core', 'lib', 'jasmine-core', 'example', 'node_example');
var command = new Command(path.resolve(), examplesDir, console.log);

jasmine.addReporter(new TeamcityReporter({
    print: console.log
}));

command.run(jasmine, process.argv.slice(2));